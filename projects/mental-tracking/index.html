<!doctype html>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../../static/styles.css?h=8fc2cf8c">



<title>Mental Tracking | joshisa.ninja</title>
<body>
  
  <section class="hero is-left is-bold ">
  <div class="hero-header">
    <header class="header">
      <div class="container">
        <div class="header-left header-menu">
          <span class="header-item">
            <a class="is-active" href="/">Home</a>
          </span>
        </div>

        <div class="header-center">
        </div>

        <div class="header-right">
          <span class="header-item">
            <a href="https://travis-ci.org/JoshAshby/joshashby.github.io">
              <img src="https://img.shields.io/travis/JoshAshby/joshashby.github.io.svg?style=flat-square">
            </a>
          </span>
        </div>

        <span class="header-toggle">
          <span></span>
          <span></span>
          <span></span>
        </span>
      </div>
    </header>
  </div>

    <div class="hero-content">
      <div class="container">
        <h1 class="title" id="title">
          Mental Tracking
        </h1>
        <h2 class="subtitle">
          Tracking how I feel each day to better understand myself.
        </h2>
      </div>
    </div>

    <div class="hero-footer">
      <div class="tabs">
        <div class="container">
          <ul>
            
              <li>
                <a href="../../posts/">Blog Posts</a>
              </li>
            
              <li class="is-active" >
                <a href="../../projects/">Projects</a>
              </li>
            
              <li>
                <a href="../../stories/">Stories</a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </section>

  <div id="body">
    
  <section class="section">
    <div class="container">
      Project Categories:
      
      <span class="tag">
        <a href="../../projects/categories/code/">code</a>
      </span>
      
      <span class="tag">
        <a href="../../projects/categories/personal-health/">personal-health</a>
      </span>
      
      <hr>
      <div class="content">
        <p>I've had this project in the back of my mind for quite some time, so its
probably a good thing to finally put something in writing. Basically I want to
track mental wellness over time. I'd love to pull in some data from physical
wellness as well, like my jawbone/misfit data and sleep data but thats a
secondary aspect.</p>
<p>I put up - or at least try my best to - a lot of mental facades, especially in
professional and related settings, but sometimes it gets to the point where I
end up fooling myself for even hours after its safe to tear them down. BUT I'd
love to track the inside view, the behind the door look into how I'm doing each
day.</p>
<p>Using just a couple of questions, ranging from multiple choice to scales, and
maybe even some short prompts, I bet I could get a pretty good historical view
into how I'm doing each day.</p>
<p>I'd love to be able to define these as something like a YAML file:</p>
<pre><code class="lang-yaml">- prompt: How happy are you today?
  type: scale
  options:
    - :(
    - :|
    - :)

- prompt: Was today a good day?
  type: scale
  options:
    - yes
    - no

- prompt: What was bad today?
  type: multiple_choice
  options:
    - Stress
    - Workload
    - Physical Pains
</code></pre>
<p>And so forth. I like the idea of being able to just add or update or remove
questions really quickly, until I've narrowed it down to something that I feel
really maps out my day.</p>
<p>I'd also love to have this setup as like a three or four per day sort of
system, with it sending me a notification with a link to the current
questionnaire when its time. Maybe even add a "weight" option that decreases as
time passes since the questionnaire was sent out.</p>
<p><em>UPDATE 2016-02-12</em>
I started work on this project superbowl night (didn't watch; code instead) and have naturally over engineered it, as is my style. I've built out a small Sinatra and Sequel backed app that has primarily HAML based views however the actual answering of questions is a little React component. I've put the <a href="https://github.com/JoshAshby/tracker">source code up on github</a> and am working on finishing things up since its a fairly small project to start off with.</p>
<p>A little bit about how I've modeled this and why I went this route:</p>
<p>I initially was thinking of backing this whole thing with a google spreadsheet since they are easy for super fast, and surprisingly somewhat complex analysis and insight into the data. I quickly abandoned directly interfacing with google however since it seems like every gem out there to do that is awful. So I decided to stick it all into Postgres for the time being since I've already got the infrastructure setup to handle working with it, both on my system as a whole and in ruby.</p>
<p>I tried to think about reusability of the whole system, and making it fairly easy to adapt in the future by making it simple now. As a result I've got 4 major parts: Questions, Questionnaire Templates, Questionnaires and Responses.</p>
<p>A <code>question</code> is just what it sounds like. It's a table that has:</p>
<ul>
<li><code>prompt</code> - What's being asked, fairly obvious.</li>
<li><code>type</code> - What type of question is this? Free form text reply, multiple choice, single choice?</li>
<li><code>choices</code> - A postgres array for use in multiple choice and single choice questions</li>
<li><code>meta</code> - A JSONB column for possible expansion. Mostly for rapid prototyping that will eventually end up as its own column</li>
</ul>
<p>Questions are designed to be independent of everything else, so that they can be reused across questionnaires. As a result everything references them and they live off in their own little corner of things.</p>
<p>Questionnaire Templates are designed to be groups of questions that represent a single questionnaire:</p>
<ul>
<li><code>name</code></li>
<li><code>description</code></li>
<li><code>question_ids</code> - A Postgres Array of question IDs, ordered according to presentation order</li>
</ul>
<p>Questionnaires use a Questionnaire Template, telling it which questions are going to be answered, and acts as a container for a set of responses to those questions.</p>
<ul>
<li><code>user_id</code></li>
<li><code>questionnaire_template</code></li>
<li><code>completed</code>  - Boolean field for quick sorting. Set to <code>TRUE</code> when there are an equal amount of responses to questions (not ideal but works).</li>
</ul>
<p>Responses belong to a question, and happen within a session (Questionnaire, see below):</p>
<ul>
<li><code>question_id</code></li>
<li><code>questionnaire_id</code></li>
<li><code>responses</code> - A Postgres Array of choices</li>
</ul>
<p>If the question is of <code>type: :text</code> then the responses array has one element, representing that text response. Likewise, if it is a single choice or multiple choice the responses array has all the choices selected from the question. So far this has worked pretty well, and as I said above, I'm almost done with the basic functionality of the system.</p>
<p>Updates coming later</p>

      </div>
      <div class="comments">
        
<div id="disqus_thread"></div>
<script>
  var disqus_config = function() { this.page.identifier = "/projects/mental-tracking"; };
  (function() {
    var d = document, s = d.createElement('script');
    s.src = '//joshisaninja.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>
  Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript"
    rel="nofollow">comments powered by Disqus.</a>
</noscript>

      </div>
    </div>
  </section>

  </div>

  
  <footer class="footer">
    <div class="container">
      <div class="content is-centered">
        <p>
          <strong>joshisa.ninja</strong> by <a href="http://github.com/JoshAshby">Josh Ashby</a>.
          The content is licensed <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC ANS 4.0</a> unless otherwise noted.
          <a class="icon" href="https://github.com/joshashby/joshashby.github.io/tree/lektor/content/projects/mental-tracking/contents.lr">
            <i class="fa fa-github"></i>
          </a>
        </p>
        <p>
        Built with <a href="https://www.getlektor.com/">Lektor</a> and <a href="http://bulma.io/">Bulma</a> for the css. Deployed automatically with <a href="https://travis-ci.org/JoshAshby/joshashby.github.io">Travis.ci</a>
        </p>
      </div>
    </div>
  </footer>
  

  <script type="text/javascript" src="../../static/app.js?h=56f85b4f" charset="utf-8"></script>
  
</body>
